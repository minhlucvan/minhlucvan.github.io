<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Minh Luc&#39;s Blog"><title>Flux lÃ  cÃ¡i quÃ¡i gÃ¬ nhá»‰ - Minh Luc&#39;s Blog</title><meta name="author" content="Minh Luc"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Minh Luc","sameAs":["https://github.com/minhlucvan","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/minhlucvan.3","https://plus.google.com/","https://www.linkedin.com/profile/","mailto:luk.mink@gmail.com"],"image":"https://www.buildabear.com/dw/image/v2/BBNG_PRD/on/demandware.static/-/Sites-buildabear-master/default/dwdfa7c1cf/27618_27630_25342_24630x.jpg?sw=600&sh=600&sm=fit&q=70"},"articleBody":"Flux lÃ  má»™t kiáº¿n trÃºc cho cho font-end do Faceebook phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch giáº£i quyáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» Facebook gáº·p pháº£i. Kiáº¿n trÃºc nÃ y giÃºp quáº£n lÃ½ cÃ¡c hÃ nh Ä‘á»™ng (actions) tráº¡ng thÃ¡i (state) cá»§a á»©ng dá»¥ng má»™t cÃ¡ch Ä‘á»“ng bá»™ vÃ  dá»… tiÃªn Ä‘oÃ¡n (predicable), nháº¥t lÃ  vá»›i cÃ¡c á»©ng dá»¥ng cÃ³ cáº¥u trÃºc phá»©c táº¡p nhÆ° Facebook. bÃ i viáº¿t nÃ y sáº½ giá»›i thiá»‡u vá» Flux cÅ©ng nhÆ° cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a nÃ³.Váº¥n Ä‘á» mÃ  Flux giáº£i quyáº¿ttrÆ°á»›c tiÃªn, ta sáº½ Ä‘iá»ƒm qua má»™t sá»‘ váº¥n Ä‘á» mÃ  Flux giáº£i quyáº¿t. Flux lÃ  má»™t máº«u thiáº¿t káº¿ Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u cho á»©ng dá»¥ng, Flux vÃ  React Ä‘á»±c phaÃ¡t triá»ƒn song song bá»Ÿi Facebook. VÃ  cÅ©ng Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ sá»­ dá»¥ng chung vá»›i nhau, dÃ¹ váº­y báº¡n hoÃ n toÃ n cÃ³ thá»ƒ dÃ¹ng Flux mÃ  khÃ´ng cáº§n Ä‘áº¿n React. NÃ³ Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ giáº£i quáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» mÃ  Facebook Ä‘áº¡ng gáº·p pháº£i.Má»™t trong nhá»¯ng váº¥n Ä‘á» Ä‘Ã³ chÃ­nh lÃ  bug trong pháº§n thÃ´ng bÃ¡o (notification). Khi báº¡n Ä‘Äƒng nháº­p vÃ o Facebook báº¡n sáº½ nhÃ¬n tháº¥y cÃ¡c thÃ´ng bÃ¡o trÃªn biá»ƒu tÆ°á»£ng tin nháº¯n. rá»“i báº¡n click vÃ o biá»ƒu tÆ°á»£ng tin nháº¯n nhÆ°ng láº¡i khÃ´ng cÃ³ tin nháº¯n má»›i nÃ o cáº£ thÃ´ng bÃ¡o tin nháº¯n mbáº¥t Ä‘i, báº¡n lÆ°á»›t linh tinh má»™t lÃ¡t vÃ  láº¡i cÃ³ thÃ´ng bÃ¡o tin nháº¯n, nhÆ°ng khi click vÃ o váº¥n cháº£ cÃ³ tin nÃ o má»›i cáº£. chá»‰ lÃ  má»™t vÃ²ng láº·p cá»§a bug mÃ  khá»•ng thá»ƒ giáº£ quáº¿t vá»›i kiáº¿n trÃºc MVC thÃ´ng thÆ°á»ng.KhÃ´ng chÃ³ má»™t vÃ²ng láº·p bug, mÃ  cÃ²n má»™t Ã²ng láº·p xay ra vá»›i Facebook team khi há» cá»‘ fix lá»—i nÃ y vÃ  rá»“i má»™t bg má»›i láº¡i xuáº¥t hiá»‡n. má»™t cuá»™c chiáº¿n khÃ´ng cÃ³ há»“i káº¿t gá»¯a dev team vÃ  bug.váº­y nÃªn Facebook muá»‘n tÃ¬m cÃ¡ch Ä‘á»ƒ thoÃ¡t khá»i cÃ¡i vÃ²ng luáº©n quáº©n nÃ y. há»™ khÃ´ng chá»‰ muá»‘n fix bux má»™t láº§n mÃ  há» muá»‘n má»™t há»‡ thá»‘ng dá»… tiÃªn Ä‘oÃ¡n hÆ¡n vÃ  cÃ³ thá»ƒ dáº£m báº£o ráº±ng váº¥n Ä‘á» Ä‘Æ°á»£c giáº£i quyáº¿t má»™t cÃ¡ch triá»‡t Ä‘á»ƒ.Báº£n cháº¥t cá»§a váº¥n Ä‘á»báº£n cháº¥t cá»§a váº¥n Ä‘á» chÃ­nh lÃ  cÃ¡ch mÃ  luá»“ng dá»¯ liá»‡u cháº¡y qua á»©ng dá»¥ng.Note: Ä‘Ã¢y lÃ  nhá»¯ng thá»© mÃ  tÃ´i tháº¥y Ä‘Æ°á»£c tá»« báº£n rÃºt gá»n mÃ  há» Ä‘Ã£ trÃ¬nh bÃ y, nhÆ°ng tÃ´i tin cháº¯c reawng kiáº¿n trá»¥c thá»¥c tháº¿ sáº½ khÃ¡c Ä‘Ã´i chÃºt.Ta cÃ³ má»™t vÃ i model chá»‹u trÃ¡ch nhiá»‡m náº¯m giá»¯ dÃ¢t toÃ n bá»™ dá»¯ liá»‡u cá»§a á»©ng dá»¥ng Ä‘á»ƒ táº§ng view hiá»ƒn thá»‹ ra.bá»Ÿi vÃ¬ ngÆ°á»i dÃ¹ng tÆ°Æ¡ng tÃ¡c thÃ´ng qua view, táº§ng view Ä‘Ã´i khi cáº§n cáº­p nháº­t vÃ o models thÃ´ng qua input cá»§a ngÆ°á»i dÃ¹ng. Ä‘Ã´i khi model cÅ©ng cáº§n pháº£i cáº­p nháº­t cÃ¡c model khÃ¡c.quan trá»ng nháº¥t, Ä‘Ã´i khi má»™t vÃ i hÃ nh Ä‘á»™ng sáº½ kÃ©o theo má»™t loáº¡t cÃ¡c thay Ä‘á»•i tráº¡ng thÃ¡i khÃ¡c. cÃ³ thá»ƒ hÃ¬nh dung nÃ³ nhÆ° chÆ¡i bÃ²ng bÃ n tháº·t khÃ³ Ä‘á»ƒ Ä‘Ã³Ã¡n Ä‘Æ°á»£c Ä‘iá»ƒ rÆ¡i cá»§a bÃ³ng trÃªn báº±n, cÅ©ng cÃ³ thá»ƒ ra ngoÃ i.trÃªn thá»±c táº¿ nhÆ°ng thay Ä‘á»•i nÃ y cÃ³ thá»ƒ xáº£y ra khÃ´ng Ä‘á»“ng bá»™, má»™t thay Ä‘á»•i cÃ³ thá»ƒ kÃ©o theo vÃ i thÃ¢y Ä‘á»•i khÃ¡c mÃ  khÃ´ng nháº¥t thiáº¿t xáº£y ra Ä‘á»“ng thá»i. Giá»‘ng nhÆ° ta nÃ©m má»™t rá»• bÃ³ng bÃ n cho 2 ngÆ°á»i chÆ¡i váº­y bÃ³ng báº¡y kháº¯p nÆ¡i vÃ  va cháº·m láº«n nhau.nÃ³i chung lÃ  tháº­t khÃ³ Ä‘á»ƒ theo dÃµi ddataa flow cá»§a á»©ng dá»¥ng. ğŸ˜ƒGiáº£i phÃ¡p: luá»“ng dá»¯ liá»‡u tuyáº¿n tÃ­nh (unidirectional data flow)vÃ¬ váº­y Facebook Ä‘Ã£ quyáº¿t Ä‘á»‹nh thá»­ má»™t kiáº¿n trÃºc khÃ¡c, sao cho luá»“ng dá»¯ liá»‡u chá»‰ cháº¡y theo má»™t hÆ°á»›ng, khi báº¡n muá»‘ng thÃªm má»™t dá»¯ liá»‡u má»›i, luá»“ng dá»¯ liá»‡u cháº¡y láº¡i tá»« Ä‘áº§u. 'Ä‘iá»u nÃ y thá»±c sá»± ráº¥t hayâ€¦ nhÆ°ng cÃ³ láº½ nÃ³ khÃ´ng thá»±c sá»± Ä‘Æ¡n giáº£n nhÆ° sÆ¡ Ä‘á»“ trÃªn.ná»™t khi báº¡n Ä‘Ã£ hiá»ƒu Flux, biá»ƒu Ä‘á»“ nÃ y má»›i thá»±c sá»± rÃµ rÃ ng, váº¥n Ä‘á» á»Ÿ Ä‘Ã¢y lÃ  náº¿u báº¡n xem qua docs má»›i nháº¥t cá»§a Flux, tÃ´i khÃ´ng nghÄ© rÃ ng biá»ƒu Ä‘á»“ nÃ y cÃ³ thá»ƒ giÃºp báº¡n hiá»ƒu Ä‘Æ°á»£c, biá»ƒu Ä‘á»“ chá»‰ giÃºp báº¡n cÃ³ Ä‘Æ°á»£c cÃ¡i nhÃ¬n toÃ n cáº£nh vá» há»‡ thá»‘ng trá»©c khi báº¡n Ä‘i vÃ o tÃ¬n hiá»ƒu ká»¹ hÆ¡n tá»«ng thÃ nh pháº§n cá»§a nÃ³.What helped me understand Flux better wasnâ€™t a diagram like this, but instead thinking of the system in terms of different characters working together as a team to achieve a goal. So I want to introduce you to the cast of characters that I have in my head.HÃ£y tÆ°á»Ÿng tÆ°á»£ng cÃ¡c thÃ nh pháº§n há»‡ thá»‘ng nhÆ° cÃ¡c nhÃ¢n váº­t lÃ m vá»‡c chung vá»›i nhau Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c má»™t má»¥c tiÃªu chung. bÃ¢y giá» tÃ´i muá»‘n giá»›i thiá»‡u vá»›i cÃ¡c báº¡n nhá»¯ng nhÃ¢n váº­t tÃ´i Ä‘Ã£ hÃ¬nh dung ra.giá»›i thiá»‡ cÃ¡c nhÃ¢n váº­ttÃ´i sáº½ giá»›i thiá»‡u cÃ¡c nhÃ¢n váº­t vÃ  há» tÆ°Æ¡ng tÃ¡c vá»›i nhau nhÆ° tháº¿ nÃ o.Action creator (Ã´ng Ä‘Ã¡nh mÃ¡y)nhÃ¢n váº­t Ä‘áº§u tiÃªn cá»§a chÃºng ta chÃ­nh lÃ  action creator, ngÆ°á»i chá»‹u trÃ¡ch nhiá»‡m cho sinh ra táº¥t cáº£ cÃ¡c action cá»§a há»‡ thá»‘ng, nÆ¡i mÃ  táº¥t cáº£ cÃ¡ thay Ä‘á»•i vÃ  cÃ¡c tÆ°Æ¡ng tÃ¡c pháº£i Ä‘i qua. Báº¥t cá»© khi nÃ o báº¡n muá»‘n thay Ä‘á»•i tráº¡ng thÃ¡i háº·c thay dá»•i view báº¡n pháº£i goi Ä‘áº¿n Ã´ng nÃ y.tÃ´i nghÄ© vá» action creator nhÆ° Ã´ng Ä‘Ã¡nh mÃ¡y fax. má»—i khi báº¡n muá»‘n gá»­i tin Ä‘i báº¡ pháº£i Ä‘áº¿n gáº·p Ã´ng nÃ y vÃ  báº£o Ã´ng ná»™i dung muá»‘n gá»­, ngÆ°á»i Ä‘Ã¡nh mÃ¡y sáº½ Ä‘á»‹nh dáº¡ng láº¡i tin nháº¯n sao cho toÃ n bá»™ pháº§n cÃ²n láº¡i cá»§a há»‡ thá»‘ng cÃ³ thá»ƒ h á»ƒu Ä‘Æ°á»£c .Ã´ng Ä‘Ã¡nh mÃ¡y sáº½ táº¡o má»™t action bao gá»“m Ã¡m hiá»‡u (type) vÃ  má»™t khá»‘i dá»¯ liá»‡u (payload). Ã¡m hiá»‡u sáº½ lÃ  mooth trong sá»‘ Ã¡m hiá»‡u mÃ  há»‡ thá»‘ng Ä‘Ã£ ngáº§m Ä‘á»‹nh vá»›i nhau tá»« trÆ°á»›c kiá»ƒu nhÆ° MESSAGE_CREATE hay MESSAGE_READ.Actions creator cÃ²n cÃ³ má»™t hiá»‡u á»©ng phá»¥ ná»¯a, Ã´ng nÃ y biáº¿t táº¥t cáº£ cÃ¡c kiá»ƒu action . má»™t dev má»›i vÃ o tram chá»‰ cáº§n má»Ÿ file acrion creator lÃªn lÃ  biáº¿t táº¥t cáº£ cÃ¡c action cá»§a há»‡ thá»‘ng .Once it has created the action message, the action creator passes that action off to the dispatcher.khi Ã´ng nÃ y Ä‘Ã¡nh mÃ¡y xong, thÃ´ng Ä‘iá»‡p sáº½ Ä‘Æ°á»£c truyá»n Ä‘áº¿n Dispatcher.Dispatcher (tháº±ng Ä‘Æ°a thÆ°)Thá»±c cháº¥t Dispatcher bao gá»“m má»™t loáº¡t cÃ¡c Ä‘Äƒng kÃ½ callback. giá»‘ng nhÆ° mÃ´ng Ä‘Æ°a thÆ°, Ã´ng nÃ y giá»¯ má»™t danh sÃ¡ch cÃ¡c kho cÃ³ thá»ƒ nháº­n tin tá»«u action creator. vÃ  chuyÃªn thÃ´ng Ä‘iáº¿p Ä‘áº¿n Ä‘Ã³.á»ng nÃ y lÃ m viá»‡c má»™t cÃ¡ch khÃ´ng Ä‘á»“ng bá»™Ä‘áº¿n táº¥t cÃ¡ cÃ¡c kho trong há»‡ thá»‘ng, náº¿u báº¡n muá»‘n thÃ´ng Ä‘iá»‡p chir Ä‘Æ°á»£c gá»­i khi lÃ m xong viá»‡c gÃ¬ khÃ¡cm báº¡n cÃ³ thá»ƒ quáº£n lÃ½ dispatcher thá»±c hiá»‡n chá»©c nÄƒng nÃ y vá»›i hÃ m waitFor().Dispatcher cá»§a Flux khÃ¡c vá»›i dispatcher cÆ°a cÃ¡c kiáº¿n trÃºc khÃ¡c á»Ÿ chá»—, thÃ´ng Ä‘iá»‡p Ä‘Æ°á»£c gá»­i tá»›i táº¥t cáº£ cÃ¡c kho khÃ´ng phÃ¢n biá»‡t action type lÃ  gÃ¬. Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a táº¥t cáº£ cÃ¡c store Ä‘á»u nháº­n Ä‘Æ°á»£c cáº£ cÃ¡c thÃ´ng Ä‘iá»‡p vÃ  pháº£i tá»± mÃ¬nh lá»‹c xem mÃ¬nh cáº§n nghe thÆ°ng thÃ´ng Ä‘iá»‡p nÃ o.The store (kho)Tiáº¿p theo lÃ  store, store lÃ  nÆ¡i giá»¯ táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i cá»§a á»©ng dá»¥ng, táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i thay Ä‘á»•i logic Ä‘á»u náº±m trong kho.Store nhÆ° má»™t nhÃ¢n viÃªn kiá»ƒm soÃ¡t kho váº­y, táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i pháº£i thay Ä‘á»•i thÃ´ng qua má»™t cá»§ thá»ƒ, báº¡n khÃ´ng thá»ƒ trá»±c tiáº¿p yÃªu cáº§u tahy Ä‘á»•i tráº¡ng thÃ¡i Ä‘Æ°á»£c, Ä‘á»‘i tÆ°á»£ng store sáº½ khÃ´ng cÃ³ setters mÃ  chi cÃ³ getters thÃ´i. Ä‘á»ƒ thay dá»•i tráº¡ng thÃ¡i báº¡n cáº§n theo Ä‘Ãºng trÃ¬nh tá»±â€¦ báº¡n cáº§n táº¡o ra má»™t action báº±ng acrion creator vÃ  gá»­i Ä‘i thÃ´ng qua dispatcher.NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn, náº¿u Store Ä‘Ã£ Ä‘Äƒng kÃ½ vá»›i dispatcher, má»i action sáº½ Ä‘Æ°á»£c Ä‘áº¿n nÃ³. bÃªn trong má»—i store trÆ°á»ng lÃ  má»™t biá»ƒu thá»©c switch phÃ¢n loáº¡i acrion Ä‘áº§u vÃ o thÃ´ng qua type vÃ  thá»±c hiá»‡n logic tÆ°Æ¡ng á»©ng. náº¿u action thuá»™c loáº¡i store quan tÃ¢m nÃ³ sáº½ xá»© lÃ½ action vÃ  tráº£ láº¡i má»™t tráº¡ng thÃ¡i tiáº¿p theo cá»§a á»©ng á»¥ng. náº¿u khÃ´ng store sáº½ bá» qua action nÃ y.Má»™t khi store Ä‘Ã£ cáº­p nháº­t tráº¡ng thÃ¡i, nÃ³ sáº½ tung ra má»™t sá»± kiá»‡n change, thÃ´ng bÃ¡o cho controller view ráº±ng tráº¡ng thÃ¡i Ä‘Ã£ bá»‹ thay Ä‘á»•i cáº§n update láº¡i.controller view vÃ  viewView chÃ­nh lÃ  giao diá»‡n ngÆ°Ã²i dÃ¹ng, view Ä‘Æ°á»£c dá»±ng dá»±a trÃªn tráº¡ng thÃ¡i, thá»ƒ hiá»‡n tráº¡ng thÃ¡i tá»›i nhá»i dÃ¹ng cÅ©ng nhÆ° nháº­n tÆ°Æ¡ng tÃ¡c cá»§a ngá»i dÃ¹ng Ä‘á»ƒ táº¡o ra tráº¡ng thÃ¡i má»›i.View chá»‰ lÃ  giao diá»‡n, nÃ³ khÃ´ng há» biáº¿t gÃ¬ vá» logic cá»§a á»©ng dá»¥ng, nÃ³ chá»‰ nháº­n láº¥y data vÃ  dá»±ng thÃ nh giao diá»‡n á»«ng dÃ¹ng cÃ³ há»ƒ hiá»ƒu Ä‘Æ°á»£c (báº±ng HTML).Controller view lÃ m nhiá»‡m vá»¥ quáº£n lÃ½ giá»¯a store vÃ  view. NÃ³ nháº­n láº¥y thÃ´ng bao thay Ä‘á»•i tráº¡ng thÃ¡i tá»« store. táº­p há»£p nhá»¯ng thay Ä‘á»•i vÃ  truyá»n tráº¡ng thÃ¡i má»›i cho táº¥t cáº£ nhÆ°ng view nÃ³ quáº£n lÃ½.So letâ€™s take a look at how all of these characters work together.HÃ£y xem qua má»i cÃ¡c thÃ nh pháº§n lÃ m viá»‡c vá»›i nhau tháº¿ nÃ o nhÃ©.cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng táº¥c nhÆ° tháº¿ nÃ oSetupÄ‘áº§u tiÃªn lÃ  pháº§n setup: á»©ng Ä‘á»¥ng Ä‘Æ°á»c khá»Ÿi táº¡o, viá»‡c vÃ y chá»‰ dá»…n ra má»™t láº§n.Store thÃ´ng bÃ¡o cho dispatcher má»—i khi cÃ³ tráº¡ng thÃ¡i thay Ä‘á»•i2.rá»“i controller views yá»u cáº§u tráº¡ng thÃ¡i má»›i nháº¥t tá»« store.Khi store gá»­i tráº¡ng thÃ¡i cho controller views, controller views gá»­i tráº¡ng thÃ¡i tá»›i cÃ¡c view Ä‘á»ƒ dá»±ng giao diá»‡n.The controller views also ask the stores to keep them notified when state changes.Controller views cÅ©ng Ä‘Äƒng kÃ½ nháº­n thÃ´ng bÃ¡o khi tráº¡ng thÃ¡i thay Ä‘á»•i.Luá»“ng dá»¯ liá»‡uKhi setup xong, á»©ng dá»¥ng sáº½ sáºµn sÃ ng Ä‘á»ƒ nháº­n tÆ°Æ¡ng tÃ¡c cá»§a ngÆ°á»i dÃ¹ng, vÃ  má»—i khi cÃ³ tÆ°Æ¡ng tÃ¡c tá»« ngÆ°á»i dÃ¹ng luá»“ng dá»¯ liá»‡u sáº½ báº¯t Ä‘áº§y cháº¡y.sá»± kiá»‡n tá»« hÃ nh tá»« tÆ°Æ¡ng tÃ¡c sáº½ Ä‘Æ°á»£c báº¯n ra.view thÃ´ng bÃ¡o cho action creator chuáº©n bá»‹ má»™t action má»›i.action creator táº¡o ra action dá»±a trÃªn tÆ°Æ¡ng tÃ¡c vÃ  gá»‰Æ° tá»›i dispatcher.Dispatcher giá»­i action tá»›i store theo má»™t hÃ ng dá»£i (FIFO), má»—i store Ä‘á»u Ä‘Æ°á»£c thÃ´ng bÃ¡o vá»›i má»i action rá»“i store sáº½ quáº¿t Ä‘á»‹nh cÃ³ xá»­ lÃ½ action hay khÃ´ng, vÃ  thay Ä‘á»•i tráº¡ng thÃ¡i dá»±a vÃ o Ä‘Ã³.Má»™t khi tráº¡nh thÃ¡i Ä‘Ã£ thay Ä‘á»•i, store gá»­i thÃ´ng bÃ¡o Ä‘áº¿n cÃ¡c controllers Ä‘Ã£ Ä‘Äƒng kÃ½ vá»›i nÃ³.nhá»¯ng controller views nÃ y yÃªu cáº§u láº¥y state má»›i tá»« store vÃ  tiáº¿n hÃ nh cáº­p nháº­t tráº¡ng thÃ¡i má»›i.Hy vá»ng bÃ i viáº¿t nÃ y giÃºp báº¡n hiá»ƒu hÆ¡n vá» Flux!â€¦link bÃ i viáº¿t gá»‘c: táº¡i Ä‘Ã¢y","dateCreated":"2016-08-07T23:53:52+07:00","dateModified":"2019-10-13T22:55:07+07:00","datePublished":"2016-08-07T23:53:52+07:00","description":"Flux lÃ  má»™t kiáº¿n trÃºc cho cho font-end do Faceebook phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch giáº£i quyáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» Facebook gáº·p pháº£i. Kiáº¿n trÃºc nÃ y giÃºp quáº£n lÃ½ cÃ¡c hÃ nh Ä‘á»™ng (actions) tráº¡ng thÃ¡i (state) cá»§a á»©ng dá»¥ng má»™t cÃ¡ch Ä‘á»“ng bá»™ vÃ  dá»… tiÃªn Ä‘oÃ¡n (predicable), nháº¥t lÃ  vá»›i cÃ¡c á»©ng dá»¥ng cÃ³ cáº¥u trÃºc phá»©c táº¡p nhÆ° Facebook. bÃ i viáº¿t nÃ y sáº½ giá»›i thiá»‡u vá» Flux cÅ©ng nhÆ° cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a nÃ³.","headline":"Flux lÃ  cÃ¡i quÃ¡i gÃ¬ nhá»‰","image":["flux.jpeg","1.png"],"mainEntityOfPage":{"@type":"WebPage","@id":"/2016/08/07/Flux-la-cai-quai-gi-nhi/"},"publisher":{"@type":"Organization","name":"Minh Luc","sameAs":["https://github.com/minhlucvan","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/minhlucvan.3","https://plus.google.com/","https://www.linkedin.com/profile/","mailto:luk.mink@gmail.com"],"image":"https://www.buildabear.com/dw/image/v2/BBNG_PRD/on/demandware.static/-/Sites-buildabear-master/default/dwdfa7c1cf/27618_27630_25342_24630x.jpg?sw=600&sh=600&sm=fit&q=70","logo":{"@type":"ImageObject","url":"https://www.buildabear.com/dw/image/v2/BBNG_PRD/on/demandware.static/-/Sites-buildabear-master/default/dwdfa7c1cf/27618_27630_25342_24630x.jpg?sw=600&sh=600&sm=fit&q=70"}},"url":"/2016/08/07/Flux-la-cai-quai-gi-nhi/","keywords":"framework, javascript, design pattern, Flux, fontend","thumbnailUrl":"flux.jpeg"}</script><meta name="description" content="Flux lÃ  má»™t kiáº¿n trÃºc cho cho font-end do Faceebook phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch giáº£i quyáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» Facebook gáº·p pháº£i. Kiáº¿n trÃºc nÃ y giÃºp quáº£n lÃ½ cÃ¡c hÃ nh Ä‘á»™ng (actions) tráº¡ng thÃ¡i (state) cá»§a á»©"><meta name="keywords" content="framework,javascript,design pattern,Flux,fontend"><meta property="og:type" content="blog"><meta property="og:title" content="Flux lÃ  cÃ¡i quÃ¡i gÃ¬ nhá»‰"><meta property="og:url" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/index.html"><meta property="og:site_name" content="Minh Luc&#39;s Blog"><meta property="og:description" content="Flux lÃ  má»™t kiáº¿n trÃºc cho cho font-end do Faceebook phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch giáº£i quyáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» Facebook gáº·p pháº£i. Kiáº¿n trÃºc nÃ y giÃºp quáº£n lÃ½ cÃ¡c hÃ nh Ä‘á»™ng (actions) tráº¡ng thÃ¡i (state) cá»§a á»©"><meta property="og:locale" content="vi"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/2.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/3.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/4.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/5.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/6.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/7.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/8.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/9.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/10/png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/11.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/12.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/13.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/14.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/15.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/16.png"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/17.png"><meta property="og:updated_time" content="2019-10-13T15:55:07.663Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Flux lÃ  cÃ¡i quÃ¡i gÃ¬ nhá»‰"><meta name="twitter:description" content="Flux lÃ  má»™t kiáº¿n trÃºc cho cho font-end do Faceebook phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch giáº£i quyáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» Facebook gáº·p pháº£i. Kiáº¿n trÃºc nÃ y giÃºp quáº£n lÃ½ cÃ¡c hÃ nh Ä‘á»™ng (actions) tráº¡ng thÃ¡i (state) cá»§a á»©"><meta name="twitter:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/2.png"><meta name="twitter:creator" content="@minhlucvan"><meta property="og:image" content="https://www.buildabear.com/dw/image/v2/BBNG_PRD/on/demandware.static/-/Sites-buildabear-master/default/dwdfa7c1cf/27618_27630_25342_24630x.jpg?sw=600&amp;sh=600&amp;sm=fit&amp;q=70"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/flux.jpeg"><meta class="swiftype" name="image" data-type="enum" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/flux.jpeg"><meta property="og:image" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/1.png"><meta class="swiftype" name="image" data-type="enum" content="/2016/08/07/Flux-la-cai-quai-gi-nhi/1.png"><link rel="stylesheet" href="/assets/css/style-vauplnmuudawtrvs9qoe2qiqczrszudvtrtqf2khoqbe0hmw3ovkgnoc5u4n.min.css"></head><body><div id="blog"><header id="header" data-behavior="4"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/" aria-label="">Minh Luc&#39;s Blog</a></div><a class="header-right-picture" href="#about" aria-label="Open the link: /#about"><img class="header-picture" src="https://www.buildabear.com/dw/image/v2/BBNG_PRD/on/demandware.static/-/Sites-buildabear-master/default/dwdfa7c1cf/27618_27630_25342_24630x.jpg?sw=600&amp;sh=600&amp;sm=fit&amp;q=70" alt="Author&#39;s picture"></a></header><nav id="sidebar" data-behavior="4"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about" aria-label="Read more about the author"><img class="sidebar-profile-picture" src="https://www.buildabear.com/dw/image/v2/BBNG_PRD/on/demandware.static/-/Sites-buildabear-master/default/dwdfa7c1cf/27618_27630_25342_24630x.jpg?sw=600&amp;sh=600&amp;sm=fit&amp;q=70" alt="Author&#39;s picture"></a><h4 class="sidebar-profile-name">Minh Luc</h4><h5 class="sidebar-profile-bio"><p>author.bio</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/" title="Home"><i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i> <span class="sidebar-button-desc">Home</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/categories" title="Categories"><i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i> <span class="sidebar-button-desc">Categories</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/tags" title="Tags"><i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i> <span class="sidebar-button-desc">Tags</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/archives" title="Archives"><i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i> <span class="sidebar-button-desc">Archives</span></a></li><li class="sidebar-button"><a class="sidebar-button-link open-algolia-search" href="#search" title="Search"><i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i> <span class="sidebar-button-desc">Search</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/about" title="About"><i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i> <span class="sidebar-button-desc">About</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/minhlucvan" title="GitHub"><i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="http://stackoverflow.com/users" title="Stack Overflow"><i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i> <span class="sidebar-button-desc">Stack Overflow</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="https://twitter.com/" title="Twitter"><i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i> <span class="sidebar-button-desc">Twitter</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="https://facebook.com/minhlucvan.3" title="Facebook"><i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i> <span class="sidebar-button-desc">Facebook</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="https://plus.google.com/" title="Google +"><i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i> <span class="sidebar-button-desc">Google +</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="https://www.linkedin.com/profile/" title="LinkedIn"><i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i> <span class="sidebar-button-desc">LinkedIn</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto:luk.mink@gmail.com" title="Mail"><i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i> <span class="sidebar-button-desc">Mail</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/atom.xml" title="RSS"><i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i> <span class="sidebar-button-desc">RSS</span></a></li></ul></div></nav><div class="post-header-cover text-left" style="background-image:url(/2016/08/07/Flux-la-cai-quai-gi-nhi/1.png)" data-behavior="4"></div><div id="main" data-behavior="4" class="hasCover hasCoverMetaOut"><article class="post"><div class="post-header main-content-wrap text-left"><h1 class="post-title">Flux lÃ  cÃ¡i quÃ¡i gÃ¬ nhá»‰</h1><div class="post-meta"><time datetime="2016-08-07T23:53:52+07:00">Th08 07, 2016 </time><span>in </span><a class="category-link" href="/categories/cong-nghe/">cÃ´ng nghá»‡</a></div></div><div class="post-content markdown"><div class="main-content-wrap"><p>Flux lÃ  má»™t kiáº¿n trÃºc cho cho font-end do Faceebook phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch giáº£i quyáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» Facebook gáº·p pháº£i. Kiáº¿n trÃºc nÃ y giÃºp quáº£n lÃ½ cÃ¡c hÃ nh Ä‘á»™ng (actions) tráº¡ng thÃ¡i (state) cá»§a á»©ng dá»¥ng má»™t cÃ¡ch Ä‘á»“ng bá»™ vÃ  dá»… tiÃªn Ä‘oÃ¡n (predicable), nháº¥t lÃ  vá»›i cÃ¡c á»©ng dá»¥ng cÃ³ cáº¥u trÃºc phá»©c táº¡p nhÆ° Facebook. bÃ i viáº¿t nÃ y sáº½ giá»›i thiá»‡u vá» Flux cÅ©ng nhÆ° cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a nÃ³.</p><a id="more"></a><h1>Váº¥n Ä‘á» mÃ  Flux giáº£i quyáº¿t</h1><p>trÆ°á»›c tiÃªn, ta sáº½ Ä‘iá»ƒm qua má»™t sá»‘ váº¥n Ä‘á» mÃ  Flux giáº£i quyáº¿t. Flux lÃ  má»™t máº«u thiáº¿t káº¿ Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u cho á»©ng dá»¥ng, Flux vÃ  React Ä‘á»±c phaÃ¡t triá»ƒn song song bá»Ÿi Facebook. VÃ  cÅ©ng Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ sá»­ dá»¥ng chung vá»›i nhau, dÃ¹ váº­y báº¡n hoÃ n toÃ n cÃ³ thá»ƒ dÃ¹ng Flux mÃ  khÃ´ng cáº§n Ä‘áº¿n React. NÃ³ Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ giáº£i quáº¿t chÃ­nh nhá»¯ng váº¥n Ä‘á» mÃ  Facebook Ä‘áº¡ng gáº·p pháº£i.</p><p><img src="./2.png" alt><br>Má»™t trong nhá»¯ng váº¥n Ä‘á» Ä‘Ã³ chÃ­nh lÃ  bug trong pháº§n thÃ´ng bÃ¡o (notification). Khi báº¡n Ä‘Äƒng nháº­p vÃ o Facebook báº¡n sáº½ nhÃ¬n tháº¥y cÃ¡c thÃ´ng bÃ¡o trÃªn biá»ƒu tÆ°á»£ng tin nháº¯n. rá»“i báº¡n click vÃ o biá»ƒu tÆ°á»£ng tin nháº¯n nhÆ°ng láº¡i khÃ´ng cÃ³ tin nháº¯n má»›i nÃ o cáº£ thÃ´ng bÃ¡o tin nháº¯n mbáº¥t Ä‘i, báº¡n lÆ°á»›t linh tinh má»™t lÃ¡t vÃ  láº¡i cÃ³ thÃ´ng bÃ¡o tin nháº¯n, nhÆ°ng khi click vÃ o váº¥n cháº£ cÃ³ tin nÃ o má»›i cáº£. chá»‰ lÃ  má»™t vÃ²ng láº·p cá»§a bug mÃ  khá»•ng thá»ƒ giáº£ quáº¿t vá»›i kiáº¿n trÃºc MVC thÃ´ng thÆ°á»ng.</p><p><img src="3.png" alt><br>KhÃ´ng chÃ³ má»™t vÃ²ng láº·p bug, mÃ  cÃ²n má»™t Ã²ng láº·p xay ra vá»›i Facebook team khi há» cá»‘ fix lá»—i nÃ y vÃ  rá»“i má»™t bg má»›i láº¡i xuáº¥t hiá»‡n. má»™t cuá»™c chiáº¿n khÃ´ng cÃ³ há»“i káº¿t gá»¯a dev team vÃ  bug.</p><p>váº­y nÃªn Facebook muá»‘n tÃ¬m cÃ¡ch Ä‘á»ƒ thoÃ¡t khá»i cÃ¡i vÃ²ng luáº©n quáº©n nÃ y. há»™ khÃ´ng chá»‰ muá»‘n fix bux má»™t láº§n mÃ  há» muá»‘n má»™t há»‡ thá»‘ng dá»… tiÃªn Ä‘oÃ¡n hÆ¡n vÃ  cÃ³ thá»ƒ dáº£m báº£o ráº±ng váº¥n Ä‘á» Ä‘Æ°á»£c giáº£i quyáº¿t má»™t cÃ¡ch triá»‡t Ä‘á»ƒ.</p><h1>Báº£n cháº¥t cá»§a váº¥n Ä‘á»</h1><p>báº£n cháº¥t cá»§a váº¥n Ä‘á» chÃ­nh lÃ  cÃ¡ch mÃ  luá»“ng dá»¯ liá»‡u cháº¡y qua á»©ng dá»¥ng.</p><p>Note: Ä‘Ã¢y lÃ  nhá»¯ng thá»© mÃ  tÃ´i tháº¥y Ä‘Æ°á»£c tá»« báº£n rÃºt gá»n mÃ  há» Ä‘Ã£ trÃ¬nh bÃ y, nhÆ°ng tÃ´i tin cháº¯c reawng kiáº¿n trá»¥c thá»¥c tháº¿ sáº½ khÃ¡c Ä‘Ã´i chÃºt.</p><p><img src="4.png" alt><br>Ta cÃ³ má»™t vÃ i model chá»‹u trÃ¡ch nhiá»‡m náº¯m giá»¯ dÃ¢t toÃ n bá»™ dá»¯ liá»‡u cá»§a á»©ng dá»¥ng Ä‘á»ƒ táº§ng view hiá»ƒn thá»‹ ra.</p><p>bá»Ÿi vÃ¬ ngÆ°á»i dÃ¹ng tÆ°Æ¡ng tÃ¡c thÃ´ng qua view, táº§ng view Ä‘Ã´i khi cáº§n cáº­p nháº­t vÃ o models thÃ´ng qua input cá»§a ngÆ°á»i dÃ¹ng. Ä‘Ã´i khi model cÅ©ng cáº§n pháº£i cáº­p nháº­t cÃ¡c model khÃ¡c.</p><p>quan trá»ng nháº¥t, Ä‘Ã´i khi má»™t vÃ i hÃ nh Ä‘á»™ng sáº½ kÃ©o theo má»™t loáº¡t cÃ¡c thay Ä‘á»•i tráº¡ng thÃ¡i khÃ¡c. cÃ³ thá»ƒ hÃ¬nh dung nÃ³ nhÆ° chÆ¡i bÃ²ng bÃ n tháº·t khÃ³ Ä‘á»ƒ Ä‘Ã³Ã¡n Ä‘Æ°á»£c Ä‘iá»ƒ rÆ¡i cá»§a bÃ³ng trÃªn báº±n, cÅ©ng cÃ³ thá»ƒ ra ngoÃ i.</p><p><img src="5.png" alt><br>trÃªn thá»±c táº¿ nhÆ°ng thay Ä‘á»•i nÃ y cÃ³ thá»ƒ xáº£y ra khÃ´ng Ä‘á»“ng bá»™, má»™t thay Ä‘á»•i cÃ³ thá»ƒ kÃ©o theo vÃ i thÃ¢y Ä‘á»•i khÃ¡c mÃ  khÃ´ng nháº¥t thiáº¿t xáº£y ra Ä‘á»“ng thá»i. Giá»‘ng nhÆ° ta nÃ©m má»™t rá»• bÃ³ng bÃ n cho 2 ngÆ°á»i chÆ¡i váº­y bÃ³ng báº¡y kháº¯p nÆ¡i vÃ  va cháº·m láº«n nhau.</p><p>nÃ³i chung lÃ  tháº­t khÃ³ Ä‘á»ƒ theo dÃµi ddataa flow cá»§a á»©ng dá»¥ng. ğŸ˜ƒ</p><h1>Giáº£i phÃ¡p: luá»“ng dá»¯ liá»‡u tuyáº¿n tÃ­nh (unidirectional data flow)</h1><p>vÃ¬ váº­y Facebook Ä‘Ã£ quyáº¿t Ä‘á»‹nh thá»­ má»™t kiáº¿n trÃºc khÃ¡c, sao cho luá»“ng dá»¯ liá»‡u chá»‰ cháº¡y theo má»™t hÆ°á»›ng, khi báº¡n muá»‘ng thÃªm má»™t dá»¯ liá»‡u má»›i, luá»“ng dá»¯ liá»‡u cháº¡y láº¡i tá»« Ä‘áº§u. '<br><img src="6.png" alt><br>Ä‘iá»u nÃ y thá»±c sá»± ráº¥t hayâ€¦ nhÆ°ng cÃ³ láº½ nÃ³ khÃ´ng thá»±c sá»± Ä‘Æ¡n giáº£n nhÆ° sÆ¡ Ä‘á»“ trÃªn.</p><p>ná»™t khi báº¡n Ä‘Ã£ hiá»ƒu Flux, biá»ƒu Ä‘á»“ nÃ y má»›i thá»±c sá»± rÃµ rÃ ng, váº¥n Ä‘á» á»Ÿ Ä‘Ã¢y lÃ  náº¿u báº¡n xem qua docs má»›i nháº¥t cá»§a Flux, tÃ´i khÃ´ng nghÄ© rÃ ng biá»ƒu Ä‘á»“ nÃ y cÃ³ thá»ƒ giÃºp báº¡n hiá»ƒu Ä‘Æ°á»£c, biá»ƒu Ä‘á»“ chá»‰ giÃºp báº¡n cÃ³ Ä‘Æ°á»£c cÃ¡i nhÃ¬n toÃ n cáº£nh vá» há»‡ thá»‘ng trá»©c khi báº¡n Ä‘i vÃ o tÃ¬n hiá»ƒu ká»¹ hÆ¡n tá»«ng thÃ nh pháº§n cá»§a nÃ³.</p><p>What helped me understand Flux better wasnâ€™t a diagram like this, but instead thinking of the system in terms of different characters working together as a team to achieve a goal. So I want to introduce you to the cast of characters that I have in my head.</p><p>HÃ£y tÆ°á»Ÿng tÆ°á»£ng cÃ¡c thÃ nh pháº§n há»‡ thá»‘ng nhÆ° cÃ¡c nhÃ¢n váº­t lÃ m vá»‡c chung vá»›i nhau Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c má»™t má»¥c tiÃªu chung. bÃ¢y giá» tÃ´i muá»‘n giá»›i thiá»‡u vá»›i cÃ¡c báº¡n nhá»¯ng nhÃ¢n váº­t tÃ´i Ä‘Ã£ hÃ¬nh dung ra.</p><h1>giá»›i thiá»‡ cÃ¡c nhÃ¢n váº­t</h1><p>tÃ´i sáº½ giá»›i thiá»‡u cÃ¡c nhÃ¢n váº­t vÃ  há» tÆ°Æ¡ng tÃ¡c vá»›i nhau nhÆ° tháº¿ nÃ o.</p><h2>Action creator (Ã´ng Ä‘Ã¡nh mÃ¡y)</h2><p>nhÃ¢n váº­t Ä‘áº§u tiÃªn cá»§a chÃºng ta chÃ­nh lÃ  action creator, ngÆ°á»i chá»‹u trÃ¡ch nhiá»‡m cho sinh ra táº¥t cáº£ cÃ¡c action cá»§a há»‡ thá»‘ng, nÆ¡i mÃ  táº¥t cáº£ cÃ¡ thay Ä‘á»•i vÃ  cÃ¡c tÆ°Æ¡ng tÃ¡c pháº£i Ä‘i qua. Báº¥t cá»© khi nÃ o báº¡n muá»‘n thay Ä‘á»•i tráº¡ng thÃ¡i háº·c thay dá»•i view báº¡n pháº£i goi Ä‘áº¿n Ã´ng nÃ y.</p><p><img src="7.png" alt><br>tÃ´i nghÄ© vá» action creator nhÆ° Ã´ng Ä‘Ã¡nh mÃ¡y fax. má»—i khi báº¡n muá»‘n gá»­i tin Ä‘i báº¡ pháº£i Ä‘áº¿n gáº·p Ã´ng nÃ y vÃ  báº£o Ã´ng ná»™i dung muá»‘n gá»­, ngÆ°á»i Ä‘Ã¡nh mÃ¡y sáº½ Ä‘á»‹nh dáº¡ng láº¡i tin nháº¯n sao cho toÃ n bá»™ pháº§n cÃ²n láº¡i cá»§a há»‡ thá»‘ng cÃ³ thá»ƒ h á»ƒu Ä‘Æ°á»£c .</p><p>Ã´ng Ä‘Ã¡nh mÃ¡y sáº½ táº¡o má»™t action bao gá»“m Ã¡m hiá»‡u (type) vÃ  má»™t khá»‘i dá»¯ liá»‡u (payload). Ã¡m hiá»‡u sáº½ lÃ  mooth trong sá»‘ Ã¡m hiá»‡u mÃ  há»‡ thá»‘ng Ä‘Ã£ ngáº§m Ä‘á»‹nh vá»›i nhau tá»« trÆ°á»›c kiá»ƒu nhÆ° MESSAGE_CREATE hay MESSAGE_READ.</p><p>Actions creator cÃ²n cÃ³ má»™t hiá»‡u á»©ng phá»¥ ná»¯a, Ã´ng nÃ y biáº¿t táº¥t cáº£ cÃ¡c kiá»ƒu action . má»™t dev má»›i vÃ o tram chá»‰ cáº§n má»Ÿ file acrion creator lÃªn lÃ  biáº¿t táº¥t cáº£ cÃ¡c action cá»§a há»‡ thá»‘ng .</p><p>Once it has created the action message, the action creator passes that action off to the dispatcher.</p><p>khi Ã´ng nÃ y Ä‘Ã¡nh mÃ¡y xong, thÃ´ng Ä‘iá»‡p sáº½ Ä‘Æ°á»£c truyá»n Ä‘áº¿n Dispatcher.</p><h2>Dispatcher (tháº±ng Ä‘Æ°a thÆ°)</h2><p>Thá»±c cháº¥t Dispatcher bao gá»“m má»™t loáº¡t cÃ¡c Ä‘Äƒng kÃ½ callback. giá»‘ng nhÆ° mÃ´ng Ä‘Æ°a thÆ°, Ã´ng nÃ y giá»¯ má»™t danh sÃ¡ch cÃ¡c kho cÃ³ thá»ƒ nháº­n tin tá»«u action creator. vÃ  chuyÃªn thÃ´ng Ä‘iáº¿p Ä‘áº¿n Ä‘Ã³.</p><p><img src="8.png" alt><br>á»ng nÃ y lÃ m viá»‡c má»™t cÃ¡ch khÃ´ng Ä‘á»“ng bá»™<br>Ä‘áº¿n táº¥t cÃ¡ cÃ¡c kho trong há»‡ thá»‘ng, náº¿u báº¡n muá»‘n thÃ´ng Ä‘iá»‡p chir Ä‘Æ°á»£c gá»­i khi lÃ m xong viá»‡c gÃ¬ khÃ¡cm báº¡n cÃ³ thá»ƒ quáº£n lÃ½ dispatcher thá»±c hiá»‡n chá»©c nÄƒng nÃ y vá»›i hÃ m waitFor().</p><p>Dispatcher cá»§a Flux khÃ¡c vá»›i dispatcher cÆ°a cÃ¡c kiáº¿n trÃºc khÃ¡c á»Ÿ chá»—, thÃ´ng Ä‘iá»‡p Ä‘Æ°á»£c gá»­i tá»›i táº¥t cáº£ cÃ¡c kho khÃ´ng phÃ¢n biá»‡t action type lÃ  gÃ¬. Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a táº¥t cáº£ cÃ¡c store Ä‘á»u nháº­n Ä‘Æ°á»£c cáº£ cÃ¡c thÃ´ng Ä‘iá»‡p vÃ  pháº£i tá»± mÃ¬nh lá»‹c xem mÃ¬nh cáº§n nghe thÆ°ng thÃ´ng Ä‘iá»‡p nÃ o.</p><h2>The store (kho)</h2><p>Tiáº¿p theo lÃ  store, store lÃ  nÆ¡i giá»¯ táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i cá»§a á»©ng dá»¥ng<br>, táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i thay Ä‘á»•i logic Ä‘á»u náº±m trong kho.</p><p>Store nhÆ° má»™t nhÃ¢n viÃªn kiá»ƒm soÃ¡t kho váº­y, táº¥t cáº£ cÃ¡c tráº¡ng thÃ¡i pháº£i thay Ä‘á»•i thÃ´ng qua má»™t cá»§ thá»ƒ, báº¡n khÃ´ng thá»ƒ trá»±c tiáº¿p yÃªu cáº§u tahy Ä‘á»•i tráº¡ng thÃ¡i Ä‘Æ°á»£c, Ä‘á»‘i tÆ°á»£ng store sáº½ khÃ´ng cÃ³ setters mÃ  chi cÃ³ getters thÃ´i. Ä‘á»ƒ thay dá»•i tráº¡ng thÃ¡i báº¡n cáº§n theo Ä‘Ãºng trÃ¬nh tá»±â€¦ báº¡n cáº§n táº¡o ra má»™t action báº±ng acrion creator vÃ  gá»­i Ä‘i thÃ´ng qua dispatcher.</p><p>NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn, náº¿u Store Ä‘Ã£ Ä‘Äƒng kÃ½ vá»›i dispatcher, má»i action sáº½ Ä‘Æ°á»£c Ä‘áº¿n nÃ³. bÃªn trong má»—i store trÆ°á»ng lÃ  má»™t biá»ƒu thá»©c switch phÃ¢n loáº¡i acrion Ä‘áº§u vÃ o thÃ´ng qua type vÃ  thá»±c hiá»‡n logic tÆ°Æ¡ng á»©ng. náº¿u action thuá»™c loáº¡i store quan tÃ¢m nÃ³ sáº½ xá»© lÃ½ action vÃ  tráº£ láº¡i má»™t tráº¡ng thÃ¡i tiáº¿p theo cá»§a á»©ng á»¥ng. náº¿u khÃ´ng store sáº½ bá» qua action nÃ y.</p><p>Má»™t khi store Ä‘Ã£ cáº­p nháº­t tráº¡ng thÃ¡i, nÃ³ sáº½ tung ra má»™t sá»± kiá»‡n change, thÃ´ng bÃ¡o cho controller view ráº±ng tráº¡ng thÃ¡i Ä‘Ã£ bá»‹ thay Ä‘á»•i cáº§n update láº¡i.</p><h2>controller view vÃ  view</h2><p>View chÃ­nh lÃ  giao diá»‡n ngÆ°Ã²i dÃ¹ng, view Ä‘Æ°á»£c dá»±ng dá»±a trÃªn tráº¡ng thÃ¡i, thá»ƒ hiá»‡n tráº¡ng thÃ¡i tá»›i nhá»i dÃ¹ng cÅ©ng nhÆ° nháº­n tÆ°Æ¡ng tÃ¡c cá»§a ngá»i dÃ¹ng Ä‘á»ƒ táº¡o ra tráº¡ng thÃ¡i má»›i.</p><p><img src="9.png" alt></p><p>View chá»‰ lÃ  giao diá»‡n, nÃ³ khÃ´ng há» biáº¿t gÃ¬ vá» logic cá»§a á»©ng dá»¥ng, nÃ³ chá»‰ nháº­n láº¥y data vÃ  dá»±ng thÃ nh giao diá»‡n á»«ng dÃ¹ng cÃ³ há»ƒ hiá»ƒu Ä‘Æ°á»£c (báº±ng HTML).</p><p>Controller view lÃ m nhiá»‡m vá»¥ quáº£n lÃ½ giá»¯a store vÃ  view. NÃ³ nháº­n láº¥y thÃ´ng bao thay Ä‘á»•i tráº¡ng thÃ¡i tá»« store. táº­p há»£p nhá»¯ng thay Ä‘á»•i vÃ  truyá»n tráº¡ng thÃ¡i má»›i cho táº¥t cáº£ nhÆ°ng view nÃ³ quáº£n lÃ½.</p><p>So letâ€™s take a look at how all of these characters work together.</p><p>HÃ£y xem qua má»i cÃ¡c thÃ nh pháº§n lÃ m viá»‡c vá»›i nhau tháº¿ nÃ o nhÃ©.</p><h1>cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng táº¥c nhÆ° tháº¿ nÃ o</h1><h2>Setup</h2><p>Ä‘áº§u tiÃªn lÃ  pháº§n setup: á»©ng Ä‘á»¥ng Ä‘Æ°á»c khá»Ÿi táº¡o, viá»‡c vÃ y chá»‰ dá»…n ra má»™t láº§n.</p><ol><li>Store thÃ´ng bÃ¡o cho dispatcher má»—i khi cÃ³ tráº¡ng thÃ¡i thay Ä‘á»•i</li></ol><p><img src="10/png" alt></p><p>2.rá»“i controller views yá»u cáº§u tráº¡ng thÃ¡i má»›i nháº¥t tá»« store.</p><ol start="3"><li>Khi store gá»­i tráº¡ng thÃ¡i cho controller views, controller views gá»­i tráº¡ng thÃ¡i tá»›i cÃ¡c view Ä‘á»ƒ dá»±ng giao diá»‡n.</li></ol><p><img src="11.png" alt></p><ol start="4"><li><p>The controller views also ask the stores to keep them notified when state changes.</p></li><li><p>Controller views cÅ©ng Ä‘Äƒng kÃ½ nháº­n thÃ´ng bÃ¡o khi tráº¡ng thÃ¡i thay Ä‘á»•i.</p></li></ol><p><img src="12.png" alt></p><h2>Luá»“ng dá»¯ liá»‡u</h2><p>Khi setup xong, á»©ng dá»¥ng sáº½ sáºµn sÃ ng Ä‘á»ƒ nháº­n tÆ°Æ¡ng tÃ¡c cá»§a ngÆ°á»i dÃ¹ng, vÃ  má»—i khi cÃ³ tÆ°Æ¡ng tÃ¡c tá»« ngÆ°á»i dÃ¹ng luá»“ng dá»¯ liá»‡u sáº½ báº¯t Ä‘áº§y cháº¡y.</p><p>sá»± kiá»‡n tá»« hÃ nh tá»« tÆ°Æ¡ng tÃ¡c sáº½ Ä‘Æ°á»£c báº¯n ra.</p><p><img src="13.png" alt></p><ol><li>view thÃ´ng bÃ¡o cho action creator chuáº©n bá»‹ má»™t action má»›i.</li></ol><p><img src="14.png" alt></p><ol start="2"><li>action creator táº¡o ra action dá»±a trÃªn tÆ°Æ¡ng tÃ¡c vÃ  gá»‰Æ° tá»›i dispatcher.</li></ol><p><img src="15.png" alt></p><ol start="3"><li>Dispatcher giá»­i action tá»›i store theo má»™t hÃ ng dá»£i (FIFO), má»—i store Ä‘á»u Ä‘Æ°á»£c thÃ´ng bÃ¡o vá»›i má»i action rá»“i store sáº½ quáº¿t Ä‘á»‹nh cÃ³ xá»­ lÃ½ action hay khÃ´ng, vÃ  thay Ä‘á»•i tráº¡ng thÃ¡i dá»±a vÃ o Ä‘Ã³.</li></ol><p><img src="16.png" alt></p><ol start="4"><li><p>Má»™t khi tráº¡nh thÃ¡i Ä‘Ã£ thay Ä‘á»•i, store gá»­i thÃ´ng bÃ¡o Ä‘áº¿n cÃ¡c controllers Ä‘Ã£ Ä‘Äƒng kÃ½ vá»›i nÃ³.</p></li><li><p>nhá»¯ng controller views nÃ y yÃªu cáº§u láº¥y state má»›i tá»« store vÃ  tiáº¿n hÃ nh cáº­p nháº­t tráº¡ng thÃ¡i má»›i.</p></li></ol><p><img src="17.png" alt></p><p>Hy vá»ng bÃ i viáº¿t nÃ y giÃºp báº¡n hiá»ƒu hÆ¡n vá» Flux!</p><p>â€¦<br>link bÃ i viáº¿t gá»‘c: <a href="https://code-cartoons.com/a-cartoon-guide-to-flux-6157355ab207#.vchgyrnzh" target="_blank" rel="noopener">táº¡i Ä‘Ã¢y</a></p></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">TAGGED IN</span><br><a class="tag tag--primary tag--small t-link" href="/tags/Flux/">Flux</a> <a class="tag tag--primary tag--small t-link" href="/tags/design-pattern/">design pattern</a> <a class="tag tag--primary tag--small t-link" href="/tags/fontend/">fontend</a> <a class="tag tag--primary tag--small t-link" href="/tags/framework/">framework</a> <a class="tag tag--primary tag--small t-link" href="/tags/javascript/">javascript</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/21/Viet-JS-theo-phong-cach-huong-module-phan-2/" data-tooltip="Viáº¿t JS theo phong cÃ¡ch hÆ°á»›ng module - pháº§n 2" aria-label="PREVIOUS: Viáº¿t JS theo phong cÃ¡ch hÆ°á»›ng module - pháº§n 2"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/08/06/viet-mot-chuong-trinh-cho-phep-cai-plugin-trong-java-nhu-the-nao/" data-tooltip="viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh cho phÃ©p cÃ i plugin trong java nhÆ° tháº¿ nÃ o?" aria-label="NEXT: viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh cho phÃ©p cÃ i plugin trong java nhÆ° tháº¿ nÃ o?"><span class="hide-xs hide-sm text-small icon-mr">NEXT</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2016/08/07/Flux-la-cai-quai-gi-nhi/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2016/08/07/Flux-la-cai-quai-gi-nhi/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2016/08/07/Flux-la-cai-quai-gi-nhi/" title="Share on Google+" aria-label="Share on Google+"><i class="fab fa-google-plus" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#" aria-label="Back to top"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div></article><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2019 Minh Luc. All Rights Reserved.</span></footer></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="4"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/21/Viet-JS-theo-phong-cach-huong-module-phan-2/" data-tooltip="Viáº¿t JS theo phong cÃ¡ch hÆ°á»›ng module - pháº§n 2" aria-label="PREVIOUS: Viáº¿t JS theo phong cÃ¡ch hÆ°á»›ng module - pháº§n 2"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/08/06/viet-mot-chuong-trinh-cho-phep-cai-plugin-trong-java-nhu-the-nao/" data-tooltip="viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh cho phÃ©p cÃ i plugin trong java nhÆ° tháº¿ nÃ o?" aria-label="NEXT: viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh cho phÃ©p cÃ i plugin trong java nhÆ° tháº¿ nÃ o?"><span class="hide-xs hide-sm text-small icon-mr">NEXT</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2016/08/07/Flux-la-cai-quai-gi-nhi/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2016/08/07/Flux-la-cai-quai-gi-nhi/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2016/08/07/Flux-la-cai-quai-gi-nhi/" title="Share on Google+" aria-label="Share on Google+"><i class="fab fa-google-plus" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#" aria-label="Back to top"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div><div id="share-options-bar" class="share-options-bar" data-behavior="4"><i id="btn-close-shareoptions" class="fa fa-times"></i><ul class="share-options"><li class="share-option"><a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2016/08/07/Flux-la-cai-quai-gi-nhi/" aria-label="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=/2016/08/07/Flux-la-cai-quai-gi-nhi/" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="https://plus.google.com/share?url=/2016/08/07/Flux-la-cai-quai-gi-nhi/" aria-label="Share on Google+"><i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span></a></li></ul></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-times"></i></div><img id="about-card-picture" src="https://www.buildabear.com/dw/image/v2/BBNG_PRD/on/demandware.static/-/Sites-buildabear-master/default/dwdfa7c1cf/27618_27630_25342_24630x.jpg?sw=600&amp;sh=600&amp;sm=fit&amp;q=70" alt="Author&#39;s picture"><h4 id="about-card-name">Minh Luc</h4><div id="about-card-bio"><p>author.bio</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>author.job</p></div><div id="about-card-location"><i class="fa fa-map-marker-alt"></i><br>Hanoi, Vietnam</div></div></div><div id="cover" style="background-image:url(/assets/images/cover-v1.2.0.jpg)"></div><script src="/assets/js/script-v5hftjqfholivslt8zs7notwx80qctz8sotsfl1pxlrg8swcj6ncpoq2rqih.min.js"></script></body></html>